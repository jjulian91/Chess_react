{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\src\\\\Registration.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\nimport { Link } from \"react-router-dom\";\nimport cookie from \"react-cookies\";\nvar emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/);\n\nvar formValid = function formValid(_ref) {\n  var formErrors = _ref.formErrors,\n      rest = _objectWithoutProperties(_ref, [\"formErrors\"]);\n\n  var valid = true; // validate form errors being empty\n\n  Object.values(formErrors).forEach(function (val) {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n\n  Object.values(rest).forEach(function (val) {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nvar Registration =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Registration, _Component);\n\n  function Registration(props) {\n    var _this;\n\n    _classCallCheck(this, Registration);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Registration).call(this, props));\n\n    _this.handleChange = function (e) {\n      e.preventDefault();\n      var _e$target = e.target,\n          name = _e$target.name,\n          value = _e$target.value;\n\n      var formErrors = _objectSpread({}, _this.state.formErrors);\n\n      switch (name) {\n        case \"firstname\":\n          formErrors.firstname = value.length < 40 ? \"\" : \"maximum 40 characaters\";\n          break;\n\n        case \"lastname\":\n          formErrors.lastname = value.length < 40 ? \"\" : \"maximum 40 characaters\";\n          break;\n\n        case \"email\":\n          formErrors.email = emailRegex.test(value) ? \"\" : \"invalid email address\";\n          break;\n\n        case \"password\":\n          formErrors.password = value.length < 8 ? \"minimum 8 characaters required\" : \"\";\n          break;\n\n        case \"confirmPassword\":\n          formErrors.confirmPassword = value === _this.state.password ? \"\" : \"Password don't match!\";\n          break;\n\n        case \"userid\":\n          formErrors.userid = value.length < 40 ? \"\" : \"maximum 40 characaters\";\n          break;\n\n        default:\n          break;\n      }\n\n      _this.setState(_defineProperty({\n        formErrors: formErrors\n      }, name, value), function () {\n        return console.log(_this.state);\n      });\n    };\n\n    _this.handleSubmit = function (e) {\n      console.log(\"submitted\");\n      e.preventDefault();\n      var _this$state = _this.state,\n          firstname = _this$state.firstname,\n          lastname = _this$state.lastname,\n          password = _this$state.password,\n          confirmPassword = _this$state.confirmPassword,\n          email = _this$state.email,\n          confirmEmail = _this$state.confirmEmail,\n          userid = _this$state.userid;\n\n      if (password !== confirmPassword) {\n        alert(\"Passwords don't match!\");\n      } else if (email !== confirmEmail) {\n        alert(\"Emails don't match!\");\n      } else {\n        if (formValid(_this.state)) {\n          _this.handleRouteChange();\n\n          console.log(JSON.stringify(_this.state));\n          fetch(\"/users/register\", {\n            method: \"POST\",\n            credentials: \"same-origin\",\n            body: JSON.stringify(_this.state),\n            headers: {\n              \"Content-Type\": \"application/json\"\n            }\n          }).then(function (res) {\n            if (res.status === 200) {\n              cookie.save(userid);\n\n              _this.handleRouteChange();\n            } else {\n              var error = new Error(res.error);\n              throw error;\n            }\n          }).catch(function (err) {\n            console.error(err);\n            alert(\"unable to register account\");\n          });\n        } else alert(\"You have to fill in all the fields with the correct information!\");\n      }\n    };\n\n    _this.state = {\n      firstname: null,\n      lastname: null,\n      email: null,\n      confirmEmail: null,\n      password: null,\n      confirmPassword: null,\n      userid: null,\n      formErrors: {\n        firstname: \"\",\n        lastname: \"\",\n        email: \"\",\n        confirmEmail: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n        userid: \"\"\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Registration, [{\n    key: \"handleRouteChange\",\n    value: function handleRouteChange() {\n      this.props.history.push(\"/\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var formErrors = this.state.formErrors;\n      return React.createElement(\"div\", {\n        className: \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"light-blue-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Chess\"), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        noValidate: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"userId\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"userid\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        className: formErrors.userid.length > 0 ? \"error\" : null,\n        placeholder: \"User Name\",\n        type: \"text\",\n        name: \"userid\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }), formErrors.userid.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, formErrors.userid)), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"firstName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"firstname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"First Name\"), React.createElement(\"input\", {\n        className: formErrors.firstname.length > 0 ? \"error\" : null,\n        placeholder: \"First Name\",\n        type: \"text\",\n        name: \"firstname\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }), formErrors.firstname.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, formErrors.firstname)), React.createElement(\"div\", {\n        className: \"lastName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"lastname\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, \"Last Name\"), React.createElement(\"input\", {\n        className: formErrors.lastname.length > 0 ? \"error\" : null,\n        placeholder: \"Last name\",\n        type: \"text\",\n        name: \"lastname\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }), formErrors.lastname.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, formErrors.lastname)), React.createElement(\"div\", {\n        className: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        className: formErrors.email.length > 0 ? \"error\" : null,\n        placeholder: \"Email\",\n        type: \"email\",\n        name: \"email\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }), formErrors.email.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, formErrors.email)), React.createElement(\"div\", {\n        className: \"confirmEmail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Confirm Email\"), React.createElement(\"input\", {\n        className: formErrors.confirmEmail.length > 0 ? \"error\" : null,\n        placeholder: \"Confirm Email\",\n        type: \"email\",\n        name: \"confirmEmail\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }), formErrors.confirmEmail.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, formErrors.confirmEmail)), React.createElement(\"div\", {\n        className: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        className: formErrors.password.length > 0 ? \"error\" : null,\n        placeholder: \"Password\",\n        type: \"password\",\n        name: \"password\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }), formErrors.password.length > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, formErrors.password)), React.createElement(\"div\", {\n        className: \"confirmPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 241\n        },\n        __self: this\n      }, \"Confirm Password\"), React.createElement(\"input\", {\n        className: formErrors.confirmPassword.length > 0 ? \"error\" : null,\n        placeholder: \"Confirm Password\",\n        type: \"password\",\n        name: \"confirmPassword\",\n        noValidate: true,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      }), formErrors.confirmPassword > 0 && React.createElement(\"span\", {\n        className: \"errorMessage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, formErrors.confirmPassword)), React.createElement(\"div\", {\n        className: \"createAccount\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, \"Create Account\"), React.createElement(Link, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Already Have an Account?\")))));\n    }\n  }]);\n\n  return Registration;\n}(Component);\n\nexport { Registration as default };","map":{"version":3,"sources":["C:\\Users\\jonju\\Documents\\csc667-su19-Team07\\application\\front-end\\src\\Registration.js"],"names":["React","Component","Link","cookie","emailRegex","RegExp","formValid","formErrors","rest","valid","Object","values","forEach","val","length","Registration","props","handleChange","e","preventDefault","target","name","value","state","firstname","lastname","email","test","password","confirmPassword","userid","setState","console","log","handleSubmit","confirmEmail","alert","handleRouteChange","JSON","stringify","fetch","method","credentials","body","headers","then","res","status","save","error","Error","catch","err","history","push"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nimport \"bootstrap-css-only/css/bootstrap.min.css\";\r\nimport \"mdbreact/dist/css/mdb.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport cookie from \"react-cookies\";\r\n\r\nconst emailRegex = RegExp(\r\n  /^[a-zA-Z0-9.!#$%&â€™*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/\r\n);\r\n\r\nconst formValid = ({ formErrors, ...rest }) => {\r\n  let valid = true;\r\n\r\n  // validate form errors being empty\r\n  Object.values(formErrors).forEach(val => {\r\n    val.length > 0 && (valid = false);\r\n  });\r\n\r\n  // validate the form was filled out\r\n  Object.values(rest).forEach(val => {\r\n    val === null && (valid = false);\r\n  });\r\n\r\n  return valid;\r\n};\r\n\r\nexport default class Registration extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      firstname: null,\r\n      lastname: null,\r\n      email: null,\r\n      confirmEmail: null,\r\n      password: null,\r\n      confirmPassword: null,\r\n      userid: null,\r\n      formErrors: {\r\n        firstname: \"\",\r\n        lastname: \"\",\r\n        email: \"\",\r\n        confirmEmail: \"\",\r\n        password: \"\",\r\n        confirmPassword: \"\",\r\n        userid: \"\"\r\n      }\r\n    };\r\n  }\r\n\r\n  handleRouteChange() {\r\n    this.props.history.push(\"/\");\r\n  }\r\n\r\n  handleChange = e => {\r\n    e.preventDefault();\r\n    const { name, value } = e.target;\r\n    let formErrors = { ...this.state.formErrors };\r\n\r\n    switch (name) {\r\n      case \"firstname\":\r\n        formErrors.firstname =\r\n          value.length < 40 ? \"\" : \"maximum 40 characaters\";\r\n        break;\r\n      case \"lastname\":\r\n        formErrors.lastname = value.length < 40 ? \"\" : \"maximum 40 characaters\";\r\n        break;\r\n      case \"email\":\r\n        formErrors.email = emailRegex.test(value)\r\n          ? \"\"\r\n          : \"invalid email address\";\r\n        break;\r\n      case \"password\":\r\n        formErrors.password =\r\n          value.length < 8 ? \"minimum 8 characaters required\" : \"\";\r\n        break;\r\n\r\n      case \"confirmPassword\":\r\n        formErrors.confirmPassword =\r\n          value === this.state.password ? \"\" : \"Password don't match!\";\r\n        break;\r\n      case \"userid\":\r\n        formErrors.userid = value.length < 40 ? \"\" : \"maximum 40 characaters\";\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.setState({ formErrors, [name]: value }, () => console.log(this.state));\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    console.log(\"submitted\");\r\n    e.preventDefault();\r\n    const {\r\n      firstname,\r\n      lastname,\r\n      password,\r\n      confirmPassword,\r\n      email,\r\n      confirmEmail,\r\n      userid\r\n    } = this.state;\r\n    if (password !== confirmPassword) {\r\n      alert(\"Passwords don't match!\");\r\n    } else if (email !== confirmEmail) {\r\n      alert(\"Emails don't match!\");\r\n    } else {\r\n      if (formValid(this.state)) {\r\n        this.handleRouteChange();\r\n        console.log(JSON.stringify(this.state));\r\n        fetch(\"/users/register\", {\r\n          method: \"POST\",\r\n          credentials: \"same-origin\",\r\n          body: JSON.stringify(this.state),\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          }\r\n        })\r\n          .then(res => {\r\n            if (res.status === 200) {\r\n              cookie.save(userid);\r\n              this.handleRouteChange();\r\n            } else {\r\n              const error = new Error(res.error);\r\n              throw error;\r\n            }\r\n          })\r\n          .catch(err => {\r\n            console.error(err);\r\n            alert(\"unable to register account\");\r\n          });\r\n      } else\r\n        alert(\r\n          \"You have to fill in all the fields with the correct information!\"\r\n        );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { formErrors } = this.state;\r\n\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <div className=\"form-wrapper\">\r\n          <h1 className=\"light-blue-text\">Chess</h1>\r\n          <br />\r\n          <form onSubmit={this.handleSubmit} noValidate>\r\n            <div className=\"userId\">\r\n              <label htmlFor=\"userid\">Username</label>\r\n              <input\r\n                className={formErrors.userid.length > 0 ? \"error\" : null}\r\n                placeholder=\"User Name\"\r\n                type=\"text\"\r\n                name=\"userid\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.userid.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.userid}</span>\r\n              )}\r\n            </div>\r\n            <br />\r\n\r\n            <div className=\"firstName\">\r\n              <label htmlFor=\"firstname\">First Name</label>\r\n              <input\r\n                className={formErrors.firstname.length > 0 ? \"error\" : null}\r\n                placeholder=\"First Name\"\r\n                type=\"text\"\r\n                name=\"firstname\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.firstname.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.firstname}</span>\r\n              )}\r\n            </div>\r\n            <div className=\"lastName\">\r\n              <label htmlFor=\"lastname\">Last Name</label>\r\n              <input\r\n                className={formErrors.lastname.length > 0 ? \"error\" : null}\r\n                placeholder=\"Last name\"\r\n                type=\"text\"\r\n                name=\"lastname\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.lastname.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.lastname}</span>\r\n              )}\r\n            </div>\r\n            <div className=\"email\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                className={formErrors.email.length > 0 ? \"error\" : null}\r\n                placeholder=\"Email\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.email.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.email}</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"confirmEmail\">\r\n              <label htmlFor=\"email\">Confirm Email</label>\r\n              <input\r\n                className={formErrors.confirmEmail.length > 0 ? \"error\" : null}\r\n                placeholder=\"Confirm Email\"\r\n                type=\"email\"\r\n                name=\"confirmEmail\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.confirmEmail.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.confirmEmail}</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"password\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                className={formErrors.password.length > 0 ? \"error\" : null}\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.password.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.password}</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"confirmPassword\">\r\n              <label htmlFor=\"password\">Confirm Password</label>\r\n              <input\r\n                className={\r\n                  formErrors.confirmPassword.length > 0 ? \"error\" : null\r\n                }\r\n                placeholder=\"Confirm Password\"\r\n                type=\"password\"\r\n                name=\"confirmPassword\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.confirmPassword > 0 && (\r\n                <span className=\"errorMessage\">\r\n                  {formErrors.confirmPassword}\r\n                </span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"createAccount\">\r\n              <button type=\"submit\">Create Account</button>\r\n              <Link to=\"/\">Already Have an Account?</Link>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}