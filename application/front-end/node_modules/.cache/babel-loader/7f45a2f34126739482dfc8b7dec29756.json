{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\jonju\\\\Documents\\\\csc667-su19-Team07\\\\application\\\\front-end\\\\src\\\\components\\\\chatbox.js\";\nimport React, { Component } from \"react\";\nimport { MDBBtn } from \"mdbreact\";\nimport io from \"socket.io-client\";\nimport { List, Avatar } from \"antd\";\nimport \"antd/dist/antd.css\";\nimport \"./Lobby.css\";\n\nvar ChatBox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ChatBox, _Component);\n\n  function ChatBox(props) {\n    var _this;\n\n    _classCallCheck(this, ChatBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ChatBox).call(this, props));\n\n    _this.componentDidMount = function () {\n      _this.getMessage(_this.receiveMessage);\n    };\n\n    _this.handleSubmit = function () {\n      _this.sendMessage({\n        msg: _this.state.textmsg,\n        title: _this.state.userid\n      });\n    };\n\n    _this.render = function () {\n      return React.createElement(\"div\", {\n        className: \"view-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"chat-history\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(List, {\n        itemLayout: \"horizontal\",\n        dataSource: _this.state.msgHistory,\n        renderItem: function renderItem(item) {\n          return React.createElement(List.Item, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72\n            },\n            __self: this\n          }, React.createElement(List.Item.Meta, {\n            avatar: React.createElement(Avatar, {\n              src: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 75\n              },\n              __self: this\n            }),\n            title: item.title,\n            description: item.description,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 73\n            },\n            __self: this\n          }));\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"text-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"textarea\", {\n        value: _this.state.textmsg,\n        onChange: _this.handleChange,\n        className: \"textarea\",\n        id: \"textboxsize\",\n        width: \"2000\",\n        rows: \"2\",\n        placeholder: \"Type your message here...\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(MDBBtn, {\n        rounded: true,\n        size: \"sm\",\n        className: \"float-right mt-4\",\n        onClick: function onClick() {\n          _this.handleSubmit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, \"Send\")));\n    };\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      textmsg: \"\",\n      userid: _this.props.userid,\n      msgHistory: [],\n      socketConnected: false,\n      socket: io.connect( //\"http://ec2-13-58-209-86.us-east-2.compute.amazonaws.com:8080/\" +\n      \"http://localhost:8080/\" + _this.props.url)\n    };\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_this));\n    _this.receiveMessage = _this.receiveMessage.bind(_assertThisInitialized(_this));\n    _this.getMessage = _this.getMessage.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ChatBox, [{\n    key: \"sendMessage\",\n    value: function sendMessage(message) {\n      this.state.socket.emit(\"subscribeToChat\", message);\n    }\n  }, {\n    key: \"getMessage\",\n    value: function getMessage(receieveMessage) {\n      this.state.socket.on(\"message\", receieveMessage);\n    }\n  }, {\n    key: \"receiveMessage\",\n    value: function receiveMessage(data) {\n      this.setState(function (state) {\n        var msgHistory = state.msgHistory.concat({\n          title: data.title,\n          avatar: \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\n          description: data.msg,\n          userid: data.userid\n        });\n        return {\n          msgHistory: msgHistory,\n          textmsg: \"\"\n        };\n      });\n    }\n  }, {\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState({\n        textmsg: event.target.value\n      });\n    }\n  }]);\n\n  return ChatBox;\n}(Component);\n\nexport { ChatBox as default };","map":{"version":3,"sources":["C:\\Users\\jonju\\Documents\\csc667-su19-Team07\\application\\front-end\\src\\components\\chatbox.js"],"names":["React","Component","MDBBtn","io","List","Avatar","ChatBox","props","componentDidMount","getMessage","receiveMessage","handleSubmit","sendMessage","msg","state","textmsg","title","userid","render","msgHistory","item","description","handleChange","email","password","socketConnected","socket","connect","url","bind","message","emit","receieveMessage","on","data","setState","concat","avatar","event","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { MDBBtn } from \"mdbreact\";\r\nimport io from \"socket.io-client\";\r\nimport { List, Avatar } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport \"./Lobby.css\";\r\n\r\nexport default class ChatBox extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      textmsg: \"\",\r\n      userid: this.props.userid,\r\n      msgHistory: [],\r\n      socketConnected: false,\r\n      socket: io.connect(\r\n        //\"http://ec2-13-58-209-86.us-east-2.compute.amazonaws.com:8080/\" +\r\n        \"http://localhost:8080/\" + this.props.url\r\n      )\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.receiveMessage = this.receiveMessage.bind(this);\r\n    this.getMessage = this.getMessage.bind(this);\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.getMessage(this.receiveMessage);\r\n  };\r\n\r\n  sendMessage(message) {\r\n    this.state.socket.emit(\"subscribeToChat\", message);\r\n  }\r\n\r\n  getMessage(receieveMessage) {\r\n    this.state.socket.on(\"message\", receieveMessage);\r\n  }\r\n\r\n  receiveMessage(data) {\r\n    this.setState(state => {\r\n      const msgHistory = state.msgHistory.concat({\r\n        title: data.title,\r\n        avatar:\r\n          \"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\",\r\n        description: data.msg,\r\n        userid: data.userid\r\n      });\r\n      return {\r\n        msgHistory,\r\n        textmsg: \"\"\r\n      };\r\n    });\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    this.sendMessage({ msg: this.state.textmsg, title: this.state.userid });\r\n  };\r\n\r\n  handleChange(event) {\r\n    this.setState({ textmsg: event.target.value });\r\n  }\r\n\r\n  render = () => {\r\n    return (\r\n      <div className=\"view-box\">\r\n        <div className=\"chat-history\">\r\n          <List\r\n            itemLayout=\"horizontal\"\r\n            dataSource={this.state.msgHistory}\r\n            renderItem={item => (\r\n              <List.Item>\r\n                <List.Item.Meta\r\n                  avatar={\r\n                    <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\r\n                  }\r\n                  title={item.title}\r\n                  description={item.description}\r\n                />\r\n              </List.Item>\r\n            )}\r\n          />\r\n        </div>\r\n        <div className=\"text-box\">\r\n          <textarea\r\n            value={this.state.textmsg}\r\n            onChange={this.handleChange}\r\n            className=\"textarea\"\r\n            id=\"textboxsize\"\r\n            width=\"2000\"\r\n            rows=\"2\"\r\n            placeholder=\"Type your message here...\"\r\n          />\r\n          <MDBBtn\r\n            rounded\r\n            size=\"sm\"\r\n            className=\"float-right mt-4\"\r\n            onClick={() => {\r\n              this.handleSubmit();\r\n            }}\r\n          >\r\n            Send\r\n          </MDBBtn>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}